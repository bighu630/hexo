---
title: manjaro安装错误的显卡驱动导致无法开机（解决办法）
author: ivhu
date: 2022-06-25 14:42:17
categories:
  - 计算机
  - linux
tags:
  - manjaro
  - 显卡驱动
friends:
  - https://www.i4k.xyz/article/Fmj_Zjq/106762144
description:
---

## 手欠的我

最近发觉我的manjaro有时候开机会卡死在clean ....这个地方，然后我去看了下系统的日至，发现是nvidia的一个报错，我也不太懂什么意思

然后我就自己动手想改改显卡驱动（从prime到大黄蜂），想看一下能不能解决问题（虽然只是偶尔触发），然后悲剧就发生了，从偶尔（10%）卡死到一定会卡死。

## 没有解决我问题的答案

error1：网上的大多数教程

在卡死的地方按Ctrl-Alt-F2/F3 开启一个tty,然后在tty里面重装显卡驱动

失败原因：卡死之后什么都按不了，我也知道个我个终端可以重装显卡驱动，但是显然我没法拿到终端

error2：在grub启动的时候选择无显卡打开

具体操作是在grub引导时该一下grub的启动参数，网上也有很多教程

我这么想是因为，曾经试过linux忘记密码，可以在这里改个东西直接拿到一个root的shell，

不过这次尝试依旧失败了

原因是显卡驱动会直接写到内核里面去（反正是安装驱动的时候会重新编译一次内核）所以在这种强制开启的情况下依旧是打不开的。

## 我最后的思路

由于意识到是linux内核的问题，所以解决方案也好找

不过这里可以插一嘴，目前大多数linux都是多内核的，而且每个内核还有一个（有点像windows的安全模式）的版本，我的就有三个内核（18/15/10）

但是我使用manjaro的驱动安装程序（mhwd）换显卡驱动导致他把每一个内核的驱动都换了，然后我每个内核都是挂B状态

插完嘴之后就是找找manjaro内核修复的方法，我不知道别的系统能不能，但是我查的时候发现arch系的好像是都可以（不知道debian系的怎么样）

## 具体操作

操作方法如下

1.烤一个manjaro的启动盘（版本越新越好，桌面环境我不知道需不需要一样，感觉不需要）

2.进入livecd

3.打开一个终端使用manjaro-chroot -a，这个命令可以直接挂载硬盘上的linux盘，然后获取一个shell终端，有root的

4.拿到终端之后就是正常操作

具体操作可以看看下面这篇友人写的博客
https://www.i4k.xyz/article/Fmj_Zjq/106762144
